<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Ocupación Diaria
    </ion-title>
  </ion-toolbar>
  <app-user-menu></app-user-menu>
</ion-header>

<ion-content class="ion-padding">

  <p-table #dt [columns]="cols" exportFilename="ocupacion" [value]="lstOcupacionDiaria"
    styleClass="p-datatable-striped p-datatable-responsive-demo" [paginator]="true" [rows]="10"
    [showCurrentPageReport]="true" currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
    [rowsPerPageOptions]="[10,25,50]">
    <ng-template pTemplate="caption">
      <div class="p-d-flex">
        <p-button label="Exportar a CSV" icon="pi pi-file-o" iconPos="left" (click)="dt.exportCSV()"></p-button>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>

        <th pSortableColumn="fecha">Fecha <p-sortIcon field="fecha"></p-sortIcon></th>
        <th pSortableColumn="placa">Número Viajes Realizados <p-sortIcon field="numeroViajes"></p-sortIcon></th>
        <th pSortableColumn="numeroCamionesUtilizados">Número Camiones Utilizados <p-sortIcon field="numeroCamionesUtilizados"></p-sortIcon></th>
        <th pSortableColumn="nombreAuxiliar">Porcentaje Ocupación Flota <p-sortIcon field="porcentajeOcupacion"></p-sortIcon></th>
        
      </tr>
      <tr>
        <th>
          <input pInputText type="text" (input)="dt.filter($event.target.value, 'fecha', 'contains')"
            placeholder="Buscar por Fecha" class="p-column-filter">
        </th>
        <th>
          <input pInputText type="text" (input)="dt.filter($event.target.value, 'numeroViajes', 'contains')"
            placeholder="Buscar por Número Viajes" class="p-column-filter">
        </th>
        <th>
          <input pInputText type="text" (input)="dt.filter($event.target.value, 'numeroCamionesUtilizados', 'contains')"
            placeholder="Buscar por Número Camiones" class="p-column-filter">
        </th>
        <th>
          <input pInputText type="text" (input)="dt.filter($event.target.value, 'porcentajeOcupacion', 'contains')"
            placeholder="Buscar por Porcentaje Ocupación" class="p-column-filter">
        </th>
        
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-ocupacion>
      <tr>
        <td><span class="p-column-title">Fecha </span>{{ocupacion.fecha | date: 'dd/MM/yyyy'}}</td>
        <td><span class="p-column-title">Número Viajes Realizados </span>{{ocupacion.numeroViajes}}</td>
        <td><span class="p-column-title">Número Camiones Utilizados </span>{{ocupacion.numeroCamionesUtilizados}}</td>
        <td><span class="p-column-title">Porcentaje Ocupación Flota </span>{{ocupacion.porcentajeOcupacion}} %</td>

      </tr>
    </ng-template>
  </p-table>

</ion-content>